= simple_nested_form_for(@nugget, html: { :role => "form" }) do |f|
  - if @nugget.errors.any?
    #error_explanation.alert.alert-danger
      %h2
        = pluralize(@nugget.errors.count, "error")
        prohibited this nugget from being saved:
      %ul
        - @nugget.errors.full_messages.each do |msg|
          %li= msg

  .form-group
    = f.label :title, "Nugget Title"
    = f.text_field :title, class: "form-control"

  .form-group
    = f.label :category_id, "Nugget Category"
    = f.collection_select :category_id, Category.all, :id, :indented_title, {include_blank: '' }, class: "form-control"

  .form-group
    = f.label :user_id, "Author"
    = f.collection_select :user_id, User.all, :id, :email, {include_blank: '' }, class: "form-control"

  %button.btn.btn-primary.btn-lg{"data-target" => "#ModalContentBlock", "data-toggle" => "modal"}
    Launch demo modal

  #ModalContentBlock.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "ModalContentLabel", role: "dialog", tabindex: "-1"}
    .modal-dialog
      .modal-content
        .modal-header
          %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", type: "button"} Ã—
          %h4#ModalContentLabel.modal-title Modal title

        .modal-body
          .form-group
            = f.label :name, "Content Title"
            = text_field :name, class: "form-control"

          .form-group
            = f.label :content, "Content Body"
            = text_area :content, class: "form-control"

        .modal-footer
          %button.btn.btn-default{"data-dismiss" => "modal", type: "button"} Close
          %button.btn.btn-primary{type: "button"} Save changes